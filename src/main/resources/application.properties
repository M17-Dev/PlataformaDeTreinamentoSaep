spring.application.name=Plataforma De Treinamento Saep

# --- Configurações de Banco de Dados H2 ---
spring.datasource.url=jdbc:h2:mem:usuariodb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=usuario
spring.datasource.password=

spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# Garante que o Hibernate crie as tabelas antes de qualquer coisa
spring.jpa.hibernate.ddl-auto=create-drop

# Garante que o data.sql seja executado
spring.sql.init.mode=always

# Garante a ordem correta de inicialização
spring.jpa.defer-datasource-initialization=true

# ==============================================================
# CONFIGURAÇÕES MQTT (Conexão com Wokwi / IoT)
# ==============================================================

# Estamos usando várias variações para garantir que a biblioteca pegue o endereço correto.
# O endereço tcp://broker.hivemq.com:1883 é público e funciona com o Wokwi.

# Variação 1 (Padrão esperado da biblioteca)
mqttx.broker-url=tcp://broker.hivemq.com:1883
mqttx.client-id=PlataformaSaep-Backend-Client-ID

# Variação 2 (Caso a biblioteca use camelCase)
mqttx.brokerUrl=tcp://broker.hivemq.com:1883
mqttx.clientId=PlataformaSaep-Backend-Client-ID

# Variação 3 (Caso a biblioteca use nomenclatura simplificada)
mqttx.url=tcp://broker.hivemq.com:1883
mqttx.server-uri=tcp://broker.hivemq.com:1883

# Configurações de Conexão
mqttx.connection-timeout=30
mqttx.keep-alive-interval=60
mqttx.qos=1